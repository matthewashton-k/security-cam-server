<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Viewer</title>
    <style>
      .grid-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(600px, 1fr));
        gap: 10px;
        padding: 10px;
      }

      .grid-item {
        border: 2px solid #000;
        border-radius: 15px;
        padding: 10px;
      }

      .grid-item video {
        width: 100%;
        height: auto;
      }
    </style>
  </head>
  <body>
    <h3>Enter Decryption Password and Press Enter to Show Videos:</h3>
    <label><input type="password" name="password" id="password" placeholder="admin decryption password"></label>
    <br>
    <div class="grid-container">
      {{#each files as |f|}}
        <div class="grid-item">
          <h3 class="links">{{f}}</h3>
          <video controls class="videos"></video>
        </div>
      {{/each}}
    </div>
    <br>
    <button>
      <a href="/logout">Logout</a>
    </button>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('password').addEventListener('keyup', function(e) {
          e.preventDefault();
          if (e.key == "Enter") {
              const links = document.getElementsByClassName('links');
              const videos = document.getElementsByClassName('videos');
              for (let i = 0; i < links.length; i++) {
                  videos[i].src = links[i].innerText + "/" + document.getElementById('password').value;
              }
          }
        });
      });
    </script>
  </body>
</html>